{"name":"Drools-jar-consumer","tagline":"Drools and dynamic rules with jar packaging","body":"# Drools with dynamic rules\r\n\r\n## Tests run:\r\n\r\n* [2000 rules and 2000 users in 15 minutes](results/droolsjarconsumersimulation-1441384352090/index.html)\r\n* [1000 rules and 10000 users in 60 minutes](results/droolsjarconsumersimulation-1441390352399/index.html)\r\n* [1000 rules and 10000 users in 6 hours](results/droolsjarconsumersimulation-1441772741753/index.html)\r\n\r\n\r\n### Run with docker\r\n\r\nFrom the root folder execute the following:\r\n\r\n```\r\nmvn clean package\r\n\r\ndocker run -d --name sample-drools -v $(pwd)/target:/opt/sample -v $(pwd)/src/main/resources/rules/:/opt/rules tifayuki/java:8 java -jar /opt/sample/drools-jar-consumer-0.0.1-SNAPSHOT.jar\r\n```\r\n\r\nDiscover the container IP:\r\n\r\n```\r\ncontainer_ip=`docker inspect --format '{{ .NetworkSettings.IPAddress }}' sample-drools`\r\n```\r\n\r\nUse curl to verify:\r\n\r\n```\r\n❯ curl \"http://${container_ip}:8080/version\" -w \"\\n\"\r\nshipping-rules-0.1.0.jar\r\n❯ curl \"http://${container_ip}:8080/message\" -w \"\\n\"\r\n{\"text\":\"Hello\"}\r\n❯ curl \"http://${container_ip}:8080/rule?version=2\" -w \"\\n\"\r\nRule version 2 applied!\r\n❯ curl \"http://${container_ip}:8080/message\" -w \"\\n\"\r\n{\"text\":\"Hello new version!\"}\r\n```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}